<app-header [title]="title$ ? (title$ | async) || '' : ''" [actions]="actions"></app-header>
@defer (when trailsType === 'search') {
  <app-search-trails-header
    *ngIf="trailsType === 'search'"
    [searching]="searching"
    [searchEnabled]="canSearch"
    (search)="doSearch($event)"
    [clearEnabled]="hasSearchResult"
    (clear)="clearSearchResult()"
  >
  </app-search-trails-header>
}
<app-trails-and-map
  #trailsAndMap
  *ngIf="viewId"
  [trails$]="(trails$ | async) ?? undefined"
  [viewId]="viewId"
  [collectionUuid]="trailsType === 'collection' ? trailsId : undefined"
  [type]="trailsType"
  [message]="searchMessage"
  [enableRemoveByGesture]="trailsType === 'search'"
  [enableSearchPlace]="true"
></app-trails-and-map>
