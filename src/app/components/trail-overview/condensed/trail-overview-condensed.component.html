<div class="first-cell">
  <div class="title-row">
    @if (selectable) {
      @switch (checkboxMode) {
        @case ('md') {
          <ion-checkbox
            class="trail-checkbox"
            mode="md"
            [checked]="selected"
            (ionChange)="setSelected($event.detail.checked)"
            (click)="$event.stopPropagation()"
          ></ion-checkbox>
        }
        @case ('ios') {
          <ion-checkbox
            class="trail-checkbox"
            mode="ios"
            [checked]="selected"
            (ionChange)="setSelected($event.detail.checked)"
            (click)="$event.stopPropagation()"
          ></ion-checkbox>
        }
      }
    }
    <div class="trail-name">
      <a href="{{ openUrl }}" target="_blank" (click)="$event.stopPropagation(); $event.preventDefault(); openTrail();">
        {{ trail.name }}
      </a>
    </div>
  </div>
  @if (subTitle) {
    <div class="sub-title-row">
      {{ subTitle }}
    </div>
  } @else {
    <div class="trail-tags-row">
      @for (tag of tags; track tag) {
        <div class="tag">{{tag}}</div>
      }
    </div>
    <div class="space"></div>
    @if (loopType !== '') {
      <div class="meta-row">
        <ion-icon [name]="loopTypeIcon"></ion-icon>
        <div class="meta">{{ loopType }}</div>
      </div>
    }
  }
</div>
<div class="cell-metadata cell-duration">
  <ion-icon name="duration"></ion-icon>
  <div class="meta">{{duration}}</div>
  <div class="meta">{{estimatedDuration}}</div>
</div>
<div class="cell-metadata cell-distance">
  <ion-icon name="distance"></ion-icon>
  <div class="meta">{{distance}}</div>
  <div class="meta">{{distanceUnit}}</div>
</div>
<div class="cell-metadata cell-elevation">
  <ion-icon name="elevation"></ion-icon>
  <div class="meta">{{positiveElevation}}</div>
  <div class="meta">{{negativeElevation}}</div>
</div>
@if (!hideMenu) {
  <div class="cell-buttons">
    <ion-button class="trail-menu-button" size="small" fill="clear" color="dark" (click)="openMenu($event)">
      <ion-icon name="item-menu" slot="icon-only"></ion-icon>
    </ion-button>
  </div>
}
