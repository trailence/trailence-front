<ion-header>
  <ion-toolbar>
    <ion-title>
      <ion-label>{{i18n.texts.track_edit_tools.tools.slope_threshold.button_label}}</ion-label>
    </ion-title>
  </ion-toolbar>
</ion-header>
<ion-content class="ion-padding">

  <div class="page-section-text" [innerHTML]="i18n.texts.track_edit_tools.tools.slope_threshold.explaination"></div>

  <div class="page-section-sub-title">
    {{i18n.texts.track_edit_tools.tools.slope_threshold.elevation_threshold}}
  </div>
  <ion-range #elevationThresholdElevation
    mode="md" [dualKnobs]="false" [ticks]="true" [snaps]="true" [min]="getMinElevationThreshold()" [max]="getMaxElevationThreshold()" [step]="getElevationThresholdStep()"
    [value]="getInitialElevationThreshold()"
    [pin]="true" [pinFormatter]="elevationThresholdFormatter"
    class="always-show-knob-pin elevation-threshold"
  >
    <ion-label slot="start">{{elevationThresholdFormatter(getMinElevationThreshold())}}</ion-label>
    <ion-label slot="end">{{elevationThresholdFormatter(getMaxElevationThreshold())}}</ion-label>
  </ion-range>

  <div class="page-section-sub-title">
    {{i18n.texts.track_edit_tools.tools.slope_threshold.max_distance}}
  </div>

  <ion-range #elevationThresholdDistance
    mode="md" [dualKnobs]="false" [ticks]="true" [snaps]="true" [min]="getMinElevationThresholdDistance()" [max]="getMaxElevationThresholdDistance()" [step]="getElevationThresholdDistanceStep()"
    [value]="getInitialElevationThresholdDistance()"
    [pin]="true" [pinFormatter]="smallDistanceFormatter"
    class="always-show-knob-pin max-distance"
  >
    <ion-label slot="start">{{smallDistanceFormatter(getMinElevationThresholdDistance())}}</ion-label>
    <ion-label slot="end">{{smallDistanceFormatter(getMaxElevationThresholdDistance())}}</ion-label>
  </ion-range>
</ion-content>

<ion-footer>
  <ion-toolbar color="footer">
    <ion-buttons slot="end">
      <ion-button color="success" (click)="applyElevationThreshold(elevationThresholdElevation.value, elevationThresholdDistance.value); close()">{{i18n.texts.buttons.apply}}</ion-button>
      <ion-button color="medium" (click)="close()">{{i18n.texts.buttons.cancel}}</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>
